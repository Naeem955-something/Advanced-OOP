{"ast":null,"code":"// src/services/habitService.ts\n\n// Detect backend URL automatically:\n// In Codespaces, process.env.REACT_APP_BACKEND_URL can be set in .env\n// If not set, fallback to localhost:8080\nconst BASE_URL = process.env.REACT_APP_BACKEND_URL || \"http://localhost:8080/api/habits\";\n\n// Fetch all habits\nexport const getHabits = async () => {\n  try {\n    const response = await fetch(BASE_URL);\n    if (!response.ok) throw new Error(\"Failed to fetch habits\");\n    return await response.json();\n  } catch (error) {\n    console.error(\"Error fetching habits:\", error);\n    throw error;\n  }\n};\n\n// Create a new habit\nexport const createHabit = async habit => {\n  try {\n    const response = await fetch(BASE_URL, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(habit)\n    });\n    if (!response.ok) throw new Error(\"Failed to create habit\");\n    return await response.json();\n  } catch (error) {\n    console.error(\"Error creating habit:\", error);\n    throw error;\n  }\n};\n\n// Delete a habit by ID\nexport const deleteHabit = async id => {\n  try {\n    const response = await fetch(`${BASE_URL}/${id}`, {\n      method: \"DELETE\"\n    });\n    if (!response.ok) throw new Error(\"Failed to delete habit\");\n    return true;\n  } catch (error) {\n    console.error(\"Error deleting habit:\", error);\n    throw error;\n  }\n};","map":{"version":3,"names":["BASE_URL","process","env","REACT_APP_BACKEND_URL","getHabits","response","fetch","ok","Error","json","error","console","createHabit","habit","method","headers","body","JSON","stringify","deleteHabit","id"],"sources":["/workspaces/Advanced-OOP/frontend/src/services/habitService.ts"],"sourcesContent":["// src/services/habitService.ts\n\n// Detect backend URL automatically:\n// In Codespaces, process.env.REACT_APP_BACKEND_URL can be set in .env\n// If not set, fallback to localhost:8080\nconst BASE_URL =\n  process.env.REACT_APP_BACKEND_URL ||\n  \"http://localhost:8080/api/habits\";\n\n// Fetch all habits\nexport const getHabits = async () => {\n  try {\n    const response = await fetch(BASE_URL);\n    if (!response.ok) throw new Error(\"Failed to fetch habits\");\n    return await response.json();\n  } catch (error) {\n    console.error(\"Error fetching habits:\", error);\n    throw error;\n  }\n};\n\n// Create a new habit\nexport const createHabit = async (habit: { title: string; description: string }) => {\n  try {\n    const response = await fetch(BASE_URL, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(habit),\n    });\n    if (!response.ok) throw new Error(\"Failed to create habit\");\n    return await response.json();\n  } catch (error) {\n    console.error(\"Error creating habit:\", error);\n    throw error;\n  }\n};\n\n// Delete a habit by ID\nexport const deleteHabit = async (id: number) => {\n  try {\n    const response = await fetch(`${BASE_URL}/${id}`, { method: \"DELETE\" });\n    if (!response.ok) throw new Error(\"Failed to delete habit\");\n    return true;\n  } catch (error) {\n    console.error(\"Error deleting habit:\", error);\n    throw error;\n  }\n};\n"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA,MAAMA,QAAQ,GACZC,OAAO,CAACC,GAAG,CAACC,qBAAqB,IACjC,kCAAkC;;AAEpC;AACA,OAAO,MAAMC,SAAS,GAAG,MAAAA,CAAA,KAAY;EACnC,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACN,QAAQ,CAAC;IACtC,IAAI,CAACK,QAAQ,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,wBAAwB,CAAC;IAC3D,OAAO,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;EAC9B,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAC9C,MAAMA,KAAK;EACb;AACF,CAAC;;AAED;AACA,OAAO,MAAME,WAAW,GAAG,MAAOC,KAA6C,IAAK;EAClF,IAAI;IACF,MAAMR,QAAQ,GAAG,MAAMC,KAAK,CAACN,QAAQ,EAAE;MACrCc,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACL,KAAK;IAC5B,CAAC,CAAC;IACF,IAAI,CAACR,QAAQ,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,wBAAwB,CAAC;IAC3D,OAAO,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;EAC9B,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC7C,MAAMA,KAAK;EACb;AACF,CAAC;;AAED;AACA,OAAO,MAAMS,WAAW,GAAG,MAAOC,EAAU,IAAK;EAC/C,IAAI;IACF,MAAMf,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGN,QAAQ,IAAIoB,EAAE,EAAE,EAAE;MAAEN,MAAM,EAAE;IAAS,CAAC,CAAC;IACvE,IAAI,CAACT,QAAQ,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,wBAAwB,CAAC;IAC3D,OAAO,IAAI;EACb,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC7C,MAAMA,KAAK;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}